<!DOCTYPE html>
<html lang=zh-CN class="bg-gray-100">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:type" content="website">

<meta name="description" content="吹雨听风独立博客">
<meta property="og:description" content="吹雨听风独立博客">


<meta name="keyword"  content="">

<link rel="shortcut icon" href="/img/favicon.ico">

<link rel="stylesheet" href="/css/tailwind.css">


<link rel="stylesheet" href="/css/typo.css">


<link rel="stylesheet" href="/css/theme.css">

<script type="text/javascript" src="/js/theme.js?v="></script>
<title>
    
        GitHub 多账号的 SSH 配置 - 吹雨听风
    
</title>    

<body>

<div class="index-container py-2 md:py-8 px-2 md:px-0">
    <div class="main-content-wrapper max-w-4xl m-auto bg-white pt-8 pb-6 px-10">
        <header class="">
    <div class="max-w-4xl mx-auto">
        <div class="py-4 border-b border-slate-900/10 border-0 dark:border-slate-300/10 mx-0">
            <div class="relative sm:flex sm:items-center">
                <div class="flex-none sm:flex-initial">
                    <a class="flex-none overflow-hidden md:w-auto" href="/.">
                        <span class="text-xl font-bold">吹雨听风</span>
                    </a>

                    
                        <span class="hidden md:inline-block text-xs text-gray-500"><i> - 热爱写代码. </i></span>
                    
                </div>

                <div class="flex-none sm:flex-auto flex items-center sm:justify-end lg:w-0 space-x-4">
    

    

    

    

    
</div>
            </div>
        </div>
    </div>
</header>

        
        

        <main>
            
<article class="max-w-4xl mx-auto py-10 typo">
    <h1 style="margin-top: 0;">
        GitHub 多账号的 SSH 配置
    </h1>

    <div>
        <div class="flex">
                <span>
                    <time datetime="Sun Jan 01 2017 00:00:00 GMT+0000">2017-01-01</time>
                </span>

            

            
                <span class="px-3 text-gray-300">|</span>
                <a href="https://learnku.com/articles/4411/github-multi-account-ssh-configuration" title="post.external" target="_blank" rel="noopener">post.external</a>
            
        </div>

        
    <div class="mt-2">
        <span>标签：</span>
        
            <a class="" href="/tags/#技术"
               title="技术">技术</a>
            
                <span>,</span>
            
        
            <a class="" href="/tags/#Docker"
               title="Docker">Docker</a>
            
                <span>,</span>
            
        
            <a class="" href="/tags/#容器"
               title="容器">容器</a>
            
        
    </div>

    </div>

    <section class="pt-10 ">
        <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>有这样的情况，现在有 2 个 github 账号。现在都想使用 ssh key 的方式拉取代码。但是第二个账号无法使用，怎么办?</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="1-生成-SSH-key"><a href="#1-生成-SSH-key" class="headerlink" title="1. 生成 SSH key"></a>1. 生成 SSH key</h3><p>1.1 生成第一个 key</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;user1@email.com&quot;
</code></pre>
<p>然后，回车确认即可。最后会生成</p>
<pre><code>id_rsa
id_rsa.pub
</code></pre>
<p>2个文件。</p>
<p>1.2 生成第二个 key</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;user2@email.com&quot;
</code></pre>
<p>注意，这里需要给 key 设置名称。要不然会覆盖第一个key，例如:</p>
<pre><code> ~/.ssh/id_rsa_user2@email.com
</code></pre>
<p>至此，我们会得到4个文件。</p>
<h3 id="2-添加密钥到-SSH-agent-中"><a href="#2-添加密钥到-SSH-agent-中" class="headerlink" title="2. 添加密钥到 SSH agent 中"></a>2. 添加密钥到 SSH agent 中</h3><pre><code>$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa_user2@email.com
</code></pre>
<h3 id="3-修改-SSH-的-config-配置"><a href="#3-修改-SSH-的-config-配置" class="headerlink" title="3. 修改 SSH 的 config 配置"></a>3. 修改 SSH 的 config 配置</h3><pre><code>$ touch config    
</code></pre>
<p>增加:</p>
<pre><code>HOST user2.github
hostname github.com
IdentityFile ~/.ssh/id_rsa_user2@email.com
User user2@email.com
</code></pre>
<h3 id="4-配置公钥"><a href="#4-配置公钥" class="headerlink" title="4. 配置公钥"></a>4. 配置公钥</h3><p>把 id_rsa.pub  和 <a href="mailto:&#105;&#x64;&#x5f;&#x72;&#x73;&#x61;&#x5f;&#x75;&#115;&#x65;&#114;&#50;&#x40;&#101;&#x6d;&#x61;&#x69;&#108;&#46;&#99;&#111;&#109;&#46;&#x70;&#117;&#98;">&#105;&#x64;&#x5f;&#x72;&#x73;&#x61;&#x5f;&#x75;&#115;&#x65;&#114;&#50;&#x40;&#101;&#x6d;&#x61;&#x69;&#108;&#46;&#99;&#111;&#109;&#46;&#x70;&#117;&#98;</a> 文件的内容添加到对应账号的公钥配置中。</p>
<h3 id="5-拉取项目"><a href="#5-拉取项目" class="headerlink" title="5. 拉取项目"></a>5. 拉取项目</h3><p>例如，user2 要克隆这个项目:</p>
<pre><code>git@github.com:EvaEngine/Dockerfiles.git
</code></pre>
<p>则执行下面的命令即可:</p>
<pre><code>$ git clone git@user2.github:EvaEngine/Dockerfiles.git
</code></pre>
<p>注意，地址中的 host 替换为了 config 中配置的名称。</p>
<p>搞定。</p>

    </section>
</article>
        </main>

        <footer class="max-w-4xl mx-auto py-2 border-t border-solid border-gray-100 text-xs pb-5">
    <div class="sm:flex space-y-2 sm:space-y-0">
        <div class="sm:flex-initial">
            
            &copy;
            
                2018 -
            
            2023

            <span>吹雨听风.</span>

            <span>
                本站由 <a class="hexo-link " target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and
                <a target="_blank" rel="noopener" href="https://github.com/cmzz/hexo-theme-snow-white">Snow White</a>
                
                    强力驱动
                
            </span>
        </div>

        <div class="flex sm:flex-initial items-center">
            

            

            

            
                <span class="inline-block px-2 text-xs text-gray-400 hidden sm:inline-block">|</span>
                <span>
                    <a href="/links"
                       class="whitespace-nowrap text-gray-500 "> 链接 </a>
                </span>
            

            
                <span class="inline-block px-2 text-xs text-gray-400 hidden sm:inline-block">|</span>
                <span>
                    <a href="/atom.xml" title="RSS" target="_blank" rel="noopener">RSS</a>
                </span>
            

            
                <span class="inline-block px-2 text-xs text-gray-400 hidden sm:inline-block">|</span>
                <span>
                    <a href="/sitemap.xml" title="网站地图" target="_blank" rel="noopener">网站地图</a>
                </span>
            
        </div>
    </div>

    <div class="mt-2">
        <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" title="署名-非商业性使用 4.0 国际 (CC BY-NC 4.0)" target="_blank" rel="noopener">署名-非商业性使用 4.0 国际 (CC BY-NC 4.0)</a>
    </div>
</footer>




    </div>
</div>

</body>
</html>